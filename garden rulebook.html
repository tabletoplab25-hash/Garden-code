<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Garden Code — Rulebook (Playtest Draft)</title>
<style>
  :root{
    --bg:#f7faf7; --paper:#ffffff; --ink:#1c2a1c; --muted:#5a6b5a;
    --accent:#2d5a27; --accent-2:#89c07a; --edge:#e7eee7;
    --g:#f5d580; --b:#1e7a2f; --a:#6fc0ff; --r:#8a96a6;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;line-height:1.35}
  .wrap{max-width:1040px;margin:20px auto;padding:16px}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  h1{font-size:32px;margin:0;color:var(--accent)}
  .btn{background:linear-gradient(180deg,var(--accent),#234d22);color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}

  .card{background:var(--paper);border:2px solid var(--edge);border-radius:14px;padding:16px;margin:10px 0}
  h2{margin:0 0 8px;color:var(--accent)}
  h3{margin:12px 0 6px;color:#2f4f2f}
  .cols{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .small{color:var(--muted);font-size:13px}
  ul{margin:6px 0 6px 18px}
  .tag{display:inline-block;border:1px solid var(--edge);border-radius:999px;padding:2px 8px;font-size:12px;background:#f0f7f0;color:#2f4f2f;margin-right:6px}
  .call{background:#f3fff4;border-left:6px solid var(--accent-2)}

  /* Boards like the app */
  .grid{display:grid;grid-template-columns:repeat(4,56px);gap:4px;background:#333;padding:4px;border-radius:10px;width:max-content;margin:8px 0}
  .cell{width:56px;height:56px;border-radius:8px;background:#f8f9fa;border:2px solid var(--edge);display:flex;align-items:center;justify-content:center;font-size:28px;position:relative}
  .hl{outline:3px solid #ffd166}
  .il{outline:3px solid #d9534f; box-shadow: inset 0 0 0 3px #ffd6d6; background:linear-gradient(135deg,#fff2f2,#ffe1e1)}
  .wheat{background:radial-gradient(40px 40px at 50% 35%, #fff2c2, var(--g));}
  .forest{background:radial-gradient(40px 40px at 50% 35%, #5cca74, var(--b));}
  .water{background:radial-gradient(40px 40px at 50% 35%, #bfe6ff, var(--a));}
  .rock{background:radial-gradient(40px 40px at 50% 35%, #c2c9d6, var(--r));}
  .ins{position:absolute;right:6px;bottom:4px;font-size:20px}

  .deduction{border-collapse:collapse;margin-top:6px}
  .deduction td,.deduction th{border:1px solid var(--edge);padding:4px 6px;text-align:center;font-size:12px}

  @media print{header .btn{display:none} body{background:#fff} .wrap{margin:0}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>🌿 Garden Code — Rulebook</h1>
      <button class="btn" onclick="window.print()">🖨️ Print</button>
    </header>

    <!-- 1) Components -->
    <section class="card" id="components">
      <h2>1) Components</h2>
      <ul>
        <li>80 <strong>Tiles</strong> (terrains: 🌾 Wheat, 🌲 Forest, 💧 Water, 🗿 Rock) — many tiles feature insects (🐝 Bee, 🦋 Butterfly, ✨ Firefly).</li>
        <li>Rule cards divided into two categories: <strong>Terrain</strong> and <strong>Insect</strong> (12 per category depending on difficulty).</li>
        <li>Deduction sheets + pencils + grid for each player.</li>
        <li>1 Tile bag.</li>
      </ul>
    </section>

    <!-- 2) Objective -->
    <section class="card" id="objective">
      <h2>2) Objective</h2>
      Build your personal <strong>4×4 Garden</strong> while respecting your secret rules and deducing those of your opponents. The first to identify the target number of rules wins immediately.
    </section>

    <!-- 3) Setup & Difficulty -->
    <section class="card" id="setup">
      <h2>3) Setup & Difficulty</h2>
      <div class="tag">Family</div>Choose one set (Terrain or Insect) at the beginning of the game and put the other back in the box.
Shuffle the chosen deck and give 3 rule cards to each player. Goal: find 3 rules.<br/>
      <div class="tag">Standard</div> Shuffle the two decks separately.
Give each player 2 Terrain rules and 2 Insect rules. Goal: find 4 rules.<br/>
<div class="tag">Expert</div> Same setup as Standard, but each player receives 3 + 3 rules. Goal: find 5 rules.<br/>
    

      <h3>Starting Clues (optional)</h3>
      Shuffle all rules cards unsued in an unique deck, now each player look at 1 up to 4 rules not in play (depending by the difficulty and number of players),then mark this secretly on his sheet and discard the cards face down. 
      <h3>First Player</h3>
      Choose a starting player at random.
    </section>

    <!-- Placement Rules BOX (merged from examples version) -->
    <section class="card call" id="placement-rules">
      <h2>Placement Rules</h2>
      <ol>
        <li><strong>Setup Phase:</strong> At the start of the game, each player simultaneously draws 7 random tiles and places them anywhere on their 4×4 grid, following only their secret rules (no adjacency requirements).</li>
        <li><strong>During the game:</strong> You <strong>may not</strong> place a tile that would <strong>break your secret rules</strong>.</li>
        <li>If you cannot place the drawn tile, you must <strong>reveal 1 rule </strong> that you do <em>not</em> have (Terrain OR Insect). 
        i.e.: "I don't have the rule I3!" Obviously there must be a rule that you have not yet been deleted or discovered by other players </li>
      </ol>
      <div class="small">Highlight legend: <span style="padding:2px 6px;border:1px solid #ffd166;background:#fff7cc;border-radius:6px">Yellow outline</span> = legal; <span style="padding:2px 6px;border:1px solid #d9534f;background:#ffd6d6;border-radius:6px">Red outline</span> = illegal.</div>
    </section>


    <!-- Examples with initial setup -->
    <section class="card" id="examples">
      <h2>Examples</h2>

      <h3>A) Starting Setup: 7 Random Tiles</h3>
      <p>At the beginning of the game, you draw 7 tiles and place them <strong>anywhere on your grid</strong>, following only your secret rules. Here's an example setup:</p>
      <div class="grid">
        <!-- Row 1 -->
        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell water">💧</div>
        <!-- Row 2 -->
        <div class="cell water">💧</div><div class="cell rock">🗿</div><div class="cell"></div><div class="cell"></div>
        <!-- Row 3 -->
        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
        <!-- Row 4 -->
        <div class="cell wheat">🌾</div><div class="cell forest">🌲</div><div class="cell wheat">🌾</div><div class="cell forest">🌲</div>
      </div>

      <h3>B) Three Terrain Rules That Respect This Setup</h3>
      <p>This player has these three secret terrain rules, which this initial placement respects:</p>
      <ul>
        <li><strong>Rule 1:</strong> "No two 🗿 (Rocks) orthogonally adjacent" ✓ <span class="small">(Only one rock placed; no adjacency violations)</span></li>
        <li><strong>Rule 2:</strong> "No two 🌲 (Forests) orthogonally adjacent" ✓ <span class="small">(Both forests at row 4 are separated by 🌾)</span></li>
        <li><strong>Rule 3:</strong> "All four corners must be different terrains (when filled)" ✓ <span class="small">(Corners are: empty, 💧, 🌾, 🌲 → all different when complete)</span></li>
      </ul>

      <h3>C) Drawing 🗿: Legal vs Illegal Placements</h3>
      <p><strong>Later in the game:</strong> You draw another 🗿. Where can you place it?</p>
      <p>According to Rule 1 ("No two Rocks adjacent"), you can place the rock in <strong>green cells</strong> but NOT in <strong>red cells</strong> (adjacent to the existing 🗿 at position 1,1):</p>
      <div class="grid">
        <!-- Row 1 -->
        <div class="cell hl"></div><div class="cell il"></div><div class="cell hl"></div><div class="cell water">💧</div>
        <!-- Row 2 -->
        <div class="cell water">💧</div><div class="cell rock">🗿</div><div class="cell il"></div><div class="cell hl"></div>
        <!-- Row 3 -->
        <div class="cell hl"></div><div class="cell il"></div><div class="cell hl"></div><div class="cell hl"></div>
        <!-- Row 4 -->
        <div class="cell wheat">🌾</div><div class="cell forest">🌲</div><div class="cell wheat">🌾</div><div class="cell forest">🌲</div>
      </div>
      <p class="small">🟢 Green = Legal placement (no violation) | 🔴 Red = Illegal placement (breaks Rule 1)</p>

      <h3>D) Forced Reveal: No Legal Placement</h3>
      <p>Imagine all remaining cells would violate your rules. Since you have <strong>no legal move</strong>, you must <strong>reveal 1 Terrain rule you do NOT have</strong>.</p>
      <p class="small"><strong>Example reveal:</strong> "I don't have the Terrain rule 'No 🌾 adjacent to 💧'" (or any other Terrain rule you don't have).</p>
      <p class="small"><strong>Note (Family difficulty):</strong> In Family mode, you only use either Terrain OR Insect rules. The other category doesn't exist in your game, so you can only reveal rules from the active category.</p>
    </section>



    <!-- 4) Turn Structure -->
    <section class="card" id="flow">
      <h2>4) Turn Structure</h2>
      On your turn:
      <ol>
        <li><strong>Placement step:</strong> Draw 1 tile from the bag. If you can place it legally, you must. If you cannot, you must reveal 1 rule you do <em>not</em> have a chosen category (Terrain or Insect).</li>
        <li><strong>Deduction step (optional):</strong> You may attempt to guess one rule of another player.</li>
        <li><strong>Case a) Out of game:</strong> If a player has no more own clues to mark with an ‘X’—meaning that all of their secret rules have been discovered—they can no longer take turns. Their score remains as it is at that point.</li>
        <li><strong>Case b)Grid complete:</strong> If you aren't out of game but you've complete your grid you can continue to take turns by revealing your rules (instead of placing tiles) and guessing rules of other players. </li>
      </ol>
      </ol>
    </section>

    <!-- 5) Deductions & Penalties -->
    <section class="card" id="deduction">
      <h2>5) Deductions & Penalties</h2>
      <div class="cols">
        <div class="call card">
          <h3>✅ Correct deduction</h3>
          <ul>
            <li>You immediately score +1 point.Write "1" in the cell player/rule intersection on your sheet</li>
            <li>All players mark that opponent as having that rule on their sheet.</li>
          </ul>
        </div>
        <div class="call card">
          <h3>❌ Wrong deduction</h3>
          <ul>
            <li>All players cross out that rule for that opponent.</li>
            <li><strong>Penalty A:</strong> You must immediately repeat step A of your turn (draw another tile and either place it or reveal rule). No deduction is allowed during this penalty action.</li>
            <li><strong>Penalty B(only in 2 players and PRO version):</strong> Take a Silence token. On your next normal turn you cannot attempt a deduction. Discard the token at the end of that turn.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- 6) End of Game -->
    <section class="card" id="end">
      <h2>6) End of Game</h2>
      <ul>
        <li>First to 3-4-5 correct deductions wins.</li>
      </ul>
    </section>

    <!-- 7) Deduction Sheet -->
    <section class="card" id="sheet">
      <h2>7) Deduction Sheet</h2>
      <p>Deduction sheet is secret while grid is public. At the start of the game mark numbers with a circle corresponding your rules drawn (there are your own rules). Track which player has which rule. Use ✓ for confirmed, ✗ for disproved. Add notes as needed.</p>
      <table class="deduction">
        <tr><th>Rule</th><th>Player A</th><th>Player B</th><th>Player C</th></tr>
        <tr><td>Terrain: No Rocks on Borders</td><td>—</td><td>✓</td><td>✗</td></tr>
        <tr><td>Insect: No Bees Adjacent</td><td>✗</td><td>—</td><td>✓</td></tr>
      </table>
    </section>

    <footer class="small" style="text-align:center;margin:16px 0">
      Garden Code
    </footer>
  </div>
</body>
</html>
